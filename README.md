# MeetingScribe（ミーティングスクライブ）

## サービス概要

会議やセミナーの音声を自動で文字起こしし、議事録を生成するWebアプリケーションです。

VP-20などの外部録音だけでなく、PC内部音声のキャプチャにも対応し、個人的な記録・復習用として幅広い音源に対応します。

完全無料・時間制限なしで、「あらゆる会議・セミナーの内容を記録して活用する」ことを実現します。

## このサービスへの思い・作りたい理由

### 背景となるエピソード

私はセミナーや定例会議に参加する機会が多く、重要な内容を記録するためにVP-20ボイスレコーダーや、オンライン会議の録音機能を使ってきました。しかし、以下の問題に直面していました：

**オンライン会議での課題:**

- 議事録を取りながら会議に集中できない
- 後で音声を聞き直すと2〜3時間かかる
- Zoom/Teamsの公式録音機能は参加者全員に通知が表示されるため、使いづらい場面がある
- 個人的なメモとして気軽に記録する手段が限られている

**VP-20録音での課題:**

- 対面セミナーの録音は問題ないが、後で聞き直す時間がない
- 文字起こしサービスは有料または時間制限がある
- 長時間のセミナー（3時間）は既存サービスでは対応できない

特に困ったのは、週次の定例会議（2時間）で議事録係を担当した時です。話を聞きながらメモを取り、さらに議事録を整形する作業に毎週3〜4時間かかっていました。「会議の音声をそのまま文字にできたら、どれだけ楽になるだろう」と何度も思いました。

また、参加したセミナーで「この内容、後で復習したいな」と思っても、録音方法に悩むことがありました。Zoomの公式録音機能を使うと参加者全員に通知が表示されるため、個人的なメモ・学習用として気軽に使いづらいと感じていました。

### 作りたい理由

「会議やセミナーの内容を気軽に記録して、後で活用したい」という自分自身の切実なニーズを解決するために、このアプリを作りたいと思いました。

既存の文字起こしサービスは「ファイルをアップロードする」ことに特化していますが、私が本当に欲しかったのは：

1. **個人的な学習メモとして会議・セミナーを記録できる機能**
2. **VP-20などの外部録音にも対応**
3. **完全無料で時間制限なく使える**
4. **自動で議事録フォーマットに整形**

この4つを満たすサービスは見つからなかったため、「自分で作ろう」と決意しました。

Runteqで学んだ技術を活かして、自分が本当に必要としている実用的なアプリケーションを開発することで、プログラミングの楽しさと価値を実感したいです。また、完成したアプリを日常的に使うことで、継続的な改善のモチベーションを保ち、趣味として長く楽しめると考えています。

## 使用上の注意・倫理規定

### 本アプリケーションの目的

このアプリケーションは**個人的な学習・復習・議事録作成の効率化**を目的として開発しています。

### 適切な利用方法

**推奨される使用例:**

- ✅ 自分が参加したセミナーの復習用メモとして活用
- ✅ 許可を得た会議の議事録作成の効率化
- ✅ VP-20などで録音した音声の文字起こし
- ✅ 自分自身の発言を振り返り、プレゼンスキル向上に活用
- ✅ 学習目的で講義内容を記録（教育機関の規則を確認の上）

### 禁止事項・注意事項

以下の行為は法律違反やマナー違反となる可能性があります：

- ❌ 他人の同意なく会議を録音し、内容を第三者に共有・公開する
- ❌ 録音禁止と明示されている場では使用しない
- ❌ プライバシーや機密情報を侵害する目的での使用
- ❌ 録音内容の無断公開・販売・悪用
- ❌ 盗聴や違法な情報収集を目的とした使用

### 録音に関する法的・倫理的配慮

**日本の法律における録音について:**

- 自分が参加している会議・セミナーを個人的なメモとして録音することは、多くの場合問題ありません
- ただし、録音内容を無断で第三者に開示・公開すると、プライバシー侵害や守秘義務違反となる可能性があります
- 会社の就業規則、会議の規約、教育機関のルールを必ず確認してください

**倫理的に推奨される使い方:**

1. **可能な限り参加者の了解を得る**: 特に少人数の会議では、録音することを事前に伝えることを推奨します
2. **個人的なメモ・復習用にとどめる**: 録音内容は自分の学習や記録のためだけに使用
3. **録音内容を外部に公開・共有しない**: SNSやブログなどへの無断公開は厳禁
4. **機密情報が含まれる会議では特に注意する**: 社外秘情報、個人情報などが含まれる場合は慎重に扱う
5. **録音禁止の場では使用しない**: 明示的に録音が禁止されている場合は必ず従う

**オンライン会議での録音について:**

- Zoom/Teamsなどの公式録音機能は参加者全員に通知されますが、PC内部音声キャプチャは通知されません
- このため、**より慎重な倫理的判断が必要**です
- 基本的には「自分の学習メモ」として使用し、他者のプライバシーを尊重してください
- 会議の主催者や参加者に不快感を与えないよう配慮が必要です

### 開発者の立場

このアプリケーションは「学習効率化・議事録作成支援ツール」として開発しており、違法行為や倫理に反する使用を推奨・助長するものではありません。

利用者自身の責任において、法令、規則、倫理を遵守し、適切にご使用ください。

## ユーザー層について

### 主要ターゲット: 自分自身

**選んだ理由:**

- 実際に困っている課題を解決するため、必要な機能が明確
- 自分がヘビーユーザーとなることで、継続的な改善のモチベーションを保てる
- 「誰かのため」ではなく「自分のため」に作ることで、趣味開発として長く楽しめる
- 実際の利用で見つかった課題をすぐに改善できる

### 将来的な拡張ユーザー層（MVP後の可能性）

**1. 会議の議事録作成に悩むビジネスパーソン**

- 定例会議の議事録作成が負担
- 会議中にメモを取ると話に集中できない
- 「言った・言わない」のトラブルを防ぎたい

**選んだ理由:** 自分と同じ課題を抱えている人は多い。特に週次会議の議事録係は誰もが経験する悩み。

**2. セミナー・講座の受講者**

- 学んだ内容を後で復習したい
- ノートを取るのが追いつかない
- 重要なポイントを聞き逃したくない

**選んだ理由:** 学習意欲の高い人ほど「記録して後で見返したい」というニーズがある。

**3. フリーランス・個人事業主**

- クライアントとの打ち合わせ内容を記録したい
- 言った言わないのトラブルを避けたい
- 議事録作成の時間を削減したい

**選んだ理由:** フリーランスは自分で全ての業務をこなす必要があり、効率化のニーズが高い。

ただし、MVP段階では「自分が満足して使えること」を最優先とし、他のユーザーへの展開は二の次とします。

## サービスの利用イメージ

### 利用シーン1: オンライン会議の議事録作成

**状況:** 毎週月曜日の定例会議（2時間）で議事録係を担当

```
【従来の方法】
月曜 10:00-12:00
└ 会議中にメモを取る（話に集中できない）
└ 聞き逃した内容がある

月曜 13:00-16:00
└ メモを見ながら議事録を整形（3時間）
└ 「あれ、何て言ってたっけ？」と迷う

合計: 5時間以上
```

```
【MeetingScribeを使った場合】
月曜 9:50
└ PC内部音声録音を開始（ワンクリック）

月曜 10:00-12:00
└ 会議に集中できる（録音は自動）
└ 参加者には通知されない

月曜 12:00
└ 録音終了、アップロード
└ バックグラウンドで文字起こし開始（3〜4時間）

月曜 16:00
└ 文字起こし完了、テキストを確認
└ 重要なポイントをピックアップ（30分）
└ 議事録完成

合計: 2.5時間の実作業（会議時間を除く）
※ 文字起こし処理は自動のため、実際の作業負担は大幅に軽減
```

### 利用シーン2: セミナー参加の復習

**状況:** 土曜日の3時間ビジネスセミナーに参加

```
【従来の方法】
土曜 14:00-17:00
└ セミナー参加、必死にメモ
└ 話を聞きながらだと書ききれない

日曜
└ メモを見返すが、内容が断片的
└ 「この部分、何て言ってたっけ？」
└ 復習が不完全

もったいない！
```

```
【MeetingScribeを使った場合】
土曜 14:00-17:00
└ PC内部音声録音（参加者には通知なし）
└ メモは最小限、話に集中できる

土曜 18:00
└ 帰宅後、音声をアップロード
└ 「寝ている間に文字起こししておこう」
└ バックグラウンドで処理開始（4〜6時間）

日曜 9:00（翌朝）
└ 起床後、完全なテキストが完成
└ 重要なポイントを確認・要約作成
└ 3時間の内容が30分で復習できる

学習効果が大幅アップ！
```

### 利用シーン3: VP-20で録音した対面会議

**状況:** 取引先との対面打ち合わせをVP-20で録音

```
水曜 15:00
└ VP-20で会議を録音

水曜 17:00
└ 帰社後、VP-20の音声ファイル（WAV）をアップロード
└ バックグラウンドで処理（1〜2時間程度）

水曜 19:00
└ 文字起こし完成
└ 決定事項とTODOを確認
└ 上司への報告資料を作成

音声を聞き直す必要なし！
※ 処理時間は音声の長さにより変動
```

### 得られる価値

**1. 時間の大幅な節約**

- 音声を聞き直す時間が不要
- 議事録作成時間の削減
- テキスト検索で必要な情報をすぐに発見

**例:** 週1回2時間の会議で議事録を作成する場合

- 従来: 会議2時間 + 議事録作成3時間 = 5時間/週
- MeetingScribe使用: 会議2時間 + テキスト確認・整形30分 = 2.5時間/週
- 削減時間: 2.5時間/週 = 年間約130時間の削減

※ ただし文字起こし処理時間（3〜4時間）は別途必要。バックグラウンド処理のため実作業時間には含まない。

**2. 会議・セミナーへの集中力向上**

- メモを取る負担が減る
- 話を聞くことに集中できる
- 理解が深まる

**3. 記録の正確性向上**

- 「誰が何を言ったか」が正確に残る
- 聞き逃しがなくなる
- 言った言わないのトラブル防止

**4. 心理的な安心感**

- 「録音しておけば後で確認できる」という安心
- 参加者に通知されないので気兼ねなく使える
- プライバシー重視（ローカル処理）

**5. 完全無料・制限なし**

- 何回使っても無料
- 長時間の会議・セミナーでも対応
- 月額料金の心配なし

## ユーザーの獲得について

### MVP段階（自分専用）

**方針:** まずは自分自身がヘビーユーザーとして使い込む

```
目的:
✅ 実際の利用で課題を発見
✅ 使い勝手を磨く
✅ 「本当に価値があるか」を検証

期間: 3〜6ヶ月
利用頻度: 週2〜3回（定例会議、セミナー参加時）
```

**検証ポイント:**

- 文字起こしの精度は実用レベルか
- 議事録作成の時間は本当に減るか
- 継続的に使いたくなるか
- 改善すべき点はどこか

### MVP後の展開（将来的な可能性）

**現段階では「自分が使うこと」を最優先**とし、以下は「可能性」として記載します：

**1. 技術ブログ・記事化**

- Qiita/Zenn: 「会議録音アプリの作り方」
- 同じ課題を持つ人への情報提供

**2. GitHub公開（オープンソース化）**

- ソースコードを公開
- 同じニーズを持つ人が使えるように
- 技術力の証明にもなる

**3. SNSでの情報発信**

- Twitter/LinkedIn: 「こんなもの作った」
- エンジニアコミュニティでの共有

**4. 小規模な展開**

- 友人・同僚に紹介
- フィードバックを収集
- 改善のヒントを得る

**ただし:** ユーザー獲得は二の次。まずは自分が満足できるものを作ることに集中します。

## サービスの差別化ポイント・推しポイント

### 既存サービスとの比較

以下は2025年12月時点の各サービス公式サイトの情報に基づく比較です。

最新情報は各サービスの公式サイトをご確認ください。

| 項目 | Otter.ai [1] | Notta [2] | MeetingScribe |
|------|----------|-------|---------------|
| **無料プラン時間制限** | 300分/月<br>（1会議30分まで） | 120分/月<br>（1回3分まで） | **制限なし** ✅ |
| **有料プラン料金** | $16.99/月<br>（年払いで$8.33/月） | 月額¥1,980<br>（年払いで実質¥1,185/月） | **完全無料** ✅ |
| **有料プラン時間** | 1,200分/月 | 1,800分/月<br>（1回90分まで） | **制限なし** ✅ |
| **日本語対応** | β版（ベータ版） | 完全対応 | 対応予定 ✅ |
| **オンライン会議録音** | ◯（公式連携） | ◯（公式連携） | ◯（PC内部音声） ✅ |
| **ファイルアップロード** | ◯ | ◯ | **◯（VP-20等）** ✅ |
| **プライバシー** | クラウド処理 | クラウド処理 | **ローカル処理可** ✅ |
| **処理速度** | 速い（数分） | 速い（数分） | やや遅い（1-2時間） |

**出典:**

- [1] Otter.ai公式サイト (https://otter.ai/pricing) - 2025年12月確認
- [2] Notta公式サイト (https://www.notta.ai/pricing) - 2025年12月確認、2025年2月価格改定後
- [3] OpenAI Whisper公式論文・GitHub (https://github.com/openai/whisper) - 2025年12月確認
- [4] 技術ブログ・Qiita記事による実測値 - 2025年12月確認

**比較対象サービスの選定理由:**

- **Otter.ai**: 世界的に有名な音声文字起こしサービス。英語圏では最も使われているサービスの1つ。
- **Notta**: 日本語に完全対応した文字起こしサービス。国内で広く使われている。
- **Zoom公式録音/Google Docs音声入力**: 一般的な録音・文字起こし手段として除外（Zoom録音はファイル変換に未対応、Google Docsはリアルタイムのみでファイル非対応のため、比較対象として不適切）

**※ 免責事項:**

- 上記情報は2025年12月時点のものです
- サービスの料金・機能は予告なく変更される場合があります
- 処理時間はPCスペックや音声の内容により変動します
- 最新の正確な情報は各サービスの公式サイトでご確認ください

### 明確な差別化ポイント

#### 1. 個人的な学習メモとして会議・セミナーを記録 ⭐️⭐️⭐️⭐️

**課題:**

```
オンライン会議の公式録音:
→ 参加者全員に通知が表示される
→ 「録音していいですか？」と聞く必要がある
→ 個人的なメモとして気軽に使いづらい
```

**MeetingScribeの解決策:**

```
PC内部音声をキャプチャ:
→ 個人的な学習メモとして記録可能
→ 自分の復習・振り返り用に活用
→ 参加者に不要な心理的負担を与えない
```

**優位性:**

- セミナーや講義など、一方向の情報提供の場で特に有効
- 自分の学習ペースで復習できる
- 気軽に記録できる（ただし倫理的配慮は必要）

**注意:** あくまで「個人的な学習メモ」として使用。録音内容の共有・公開は禁止。会議の性質に応じて参加者の了解を得ることを推奨。

#### 2. オンライン会議とファイルの両対応 ⭐️⭐️⭐️⭐️

**既存サービス:**

```
オンライン特化型（Otter.ai等）:
→ オンライン会議には強い
→ VP-20などの外部録音には非対応または弱い

ファイルアップロード型（Whisper実装）:
→ ファイルには対応
→ オンライン会議のリアルタイム録音には非対応
```

**MeetingScribeの強み:**

```
統合的な設計:
✅ オンライン会議（Zoom/Teams）→ PC内部音声録音
✅ VP-20ボイスレコーダー → WAV/MP3アップロード
✅ スマホ録音 → ファイルアップロード（Phase 2）
✅ その他の音声ファイル → すべて対応

→ 「あらゆる会議・セミナーの音声」に対応
```

**優位性:**

- オンライン会議も対面会議も1つのアプリで管理
- VP-20ユーザーにとって便利
- 使い分け不要、学習コスト低い

#### 3. 完全無料・時間制限なし ⭐️⭐️⭐️

**既存サービスの制限:**

```
Otter.ai無料版: 300分/月（1会議30分まで）
Notta無料版: 120分/月（1回3分まで）
→ 1回の長時間セミナー（2-3時間）で大幅に上限を消費
→ または対応できない
→ 有料プラン必須（月額約1,200円〜2,000円）
```

**MeetingScribe:**

```
✅ 何回使っても無料
✅ 3時間の音声でも対応
✅ 月間制限なし
✅ ランニングコスト0円

→ Whisperをローカル実行することで実現
```

**優位性:**

- 継続的なコストがかからない
- 気兼ねなく使える
- 学生や個人でも負担なし
- 長時間セミナー・会議に強い

#### 4. プライバシー重視（ローカル処理） ⭐️⭐️⭐️⭐️

**既存サービス:**

```
クラウド型（Otter、Notta等）:
→ 音声データをサーバーにアップロード
→ 機密情報の扱いに不安
→ 利用規約に依存
```

**MeetingScribe:**

```
ローカル処理オプション:
→ 音声データはPC内で処理完結
→ 外部サーバーに送信しない
→ プライバシー保護

→ 機密性の高い会議も安心
```

**優位性:**

- 社内会議や機密情報も安心
- データの所有権が明確
- プライバシー意識の高いユーザー向け

### 推しポイント

#### 「時間はかかるけど、お金はかからない」という新しい選択肢

```
従来の選択肢:
A. 速い有料サービス（Otter.ai等）→ お金がかかる
B. 自分で聞き直す → 時間がかかる

MeetingScribeの提案:
C. 遅いけど無料のサービス → 寝ている間に処理

「急ぎじゃないけど、テキスト化したい」
→ この層に最適
```

#### 自分のための、自分によるサービス

```
大手サービス:
→ 万人向け、汎用的、派手な機能

MeetingScribe:
→ 自分が本当に必要な機能だけ
→ 余計な機能がないシンプルさ
→ 自分で作ったから自由にカスタマイズ可能

→ 「自分専用ツール」としての価値
```

#### 会議・セミナーへの参加体験が変わる

```
従来:
「メモを取らなきゃ...」
→ 話に集中できない
→ 聞き逃す
→ ストレス

MeetingScribe導入後:
「録音しておけば大丈夫」
→ 話に集中できる
→ 理解が深まる
→ 後で完全なテキストで復習

→ 学習効果・仕事の質が向上
```

## 機能候補

### MVPリリース時に作りたい機能（必須）

#### 1. オンライン会議の録音機能（PC内部音声キャプチャ）

**内容:**

- 仮想オーディオデバイス（BlackHole/VB-Cable）を使用
- ブラウザ上で「録音開始」「録音終了」ボタン
- 録音中の経過時間表示
- 録音したファイルを自動保存

**MVP理由:** オンライン会議録音が最大の差別化ポイント。これがないと本アプリの価値が半減する。

#### 2. 音声ファイルアップロード機能

**内容:**

- WAV/MP3/M4A形式対応（VP-20の録音形式）
- ドラッグ&ドロップ対応
- 最大3時間（約150MB）のファイルサイズ対応
- アップロード進捗表示

**MVP理由:** VP-20対応は差別化ポイントの1つ。セミナー録音などオフライン音声への対応も重要。

#### 3. 音声→テキスト変換機能

**内容:**

- OpenAI Whisperを使った自動文字起こし
- バックグラウンド処理（Sidekiq使用）
- 処理進捗の表示（「処理中...」「完了」）
- 処理時間の目安表示

**MVP理由:** 本アプリの核心機能。これがなければサービスとして成立しない。

#### 4. テキスト表示・ダウンロード機能

**内容:**

- 変換結果のテキスト表示
- テキストファイル（.txt）としてダウンロード
- 文字数・所要時間の表示

**MVP理由:** 変換したテキストを確認・活用できなければ意味がない。最低限の機能として必須。

#### 5. 変換履歴の管理

**内容:**

- 過去に変換した音声の一覧表示
- ファイル名・日付での並び替え
- 簡易検索（ファイル名）
- 削除機能

**MVP理由:** 複数の会議・セミナーを記録すると、管理機能が必要。最低限の一覧表示と検索は必須。

### これらだけでMVPとして成立する理由

**核心的な価値提供が可能:**

```
1. オンライン会議を参加者に気づかれず録音 ✅
2. VP-20の音声をテキスト化 ✅
3. 完全無料で時間制限なく使える ✅
4. 履歴管理で複数の会議を管理 ✅

→ 「会議・セミナーの内容を記録して活用する」
という本質的な価値を提供できる
```

**実装がシンプル:**

```
- 使用技術はRails + Whisperのみ
- 複雑なAI機能は含まない
- 2ヶ月で完成可能
```

**自分が実際に使って検証できる:**

```
- 定例会議で週1回使用
- セミナー参加時に使用
- VP-20録音の活用

→ 本当に価値があるか確認できる
```

### MVP後に検討したい機能（優先度は使用後に決定）

**優先順位の決定方針:**

現時点では、MVP を実際に使用していないため、具体的な優先順位は決定していません。

実際にMVPを数ヶ月使い込んだ上で、以下の基準で優先順位を決定します：

1. **自分が最も困った課題** - 実際の利用で感じた不便さ
2. **実装の難易度** - 開発にかかる時間と技術的ハードル
3. **得られる価値の大きさ** - 改善効果がどれだけ大きいか
4. **学習したい技術** - 趣味開発として楽しく学べるか

MVPの使用を通じて「本当に必要な機能」を見極め、無駄な開発を避けることを重視します。

---

**MVP後に検討している機能候補:**

#### カテゴリA: テキスト活用の改善

**議事録フォーマット自動生成**

- AI（GPT-4 API）で決定事項、TODO、担当者を自動抽出
- 議事録テンプレートに整形
- Word/PDF形式でのエクスポート

**AI要約機能**

- 会議の要約を自動生成
- 重要ポイントの抽出
- 長時間会議の復習を効率化

**テキスト編集機能**

- ブラウザ上でテキストを直接編集
- 認識ミスの修正
- メモの追加

**キーワードハイライト**

- 重要な単語を自動強調表示
- カスタムキーワード設定

#### カテゴリB: 音声とテキストの連携

**タイムスタンプ付きテキスト**

- 「00:15:30 ここから質疑応答」のような表示
- 音声の該当箇所にジャンプ可能
- 長時間音声の確認を効率化

**音声再生機能**

- ブラウザ上で音声を再生
- テキストと音声を同時に確認
- 再生速度調整（1.5倍速等）

#### カテゴリC: 複数人会議での利用

**話者識別機能**

- 複数人の会議で誰が話したか自動識別
- 発言者ごとに色分け表示
- 発言時間の統計

**発言分析**

- 各参加者の発言時間・回数
- 発言バランスの可視化

#### カテゴリD: 管理機能の強化

**全文検索機能**

- 過去の会議録からキーワード検索
- 「あの時何て言ってたっけ？」を即座に発見
- 複数ファイルの横断検索

**カレンダー連携**

- Googleカレンダーと連携
- 会議の予定と録音を自動紐付け
- 「いつの会議の録音か」が一目瞭然

**タグ機能**

- プロジェクト別、カテゴリ別にタグ付け
- タグでの絞り込み検索

**複数ファイルの一括処理**

- セミナーの午前・午後の録音を一度に処理
- バッチ処理

#### カテゴリE: パフォーマンス改善

**処理速度の高速化**

- faster-whisperの導入（最大4倍高速化）
- GPU対応
- 処理時間の大幅短縮

**クラウドAPI対応（オプション）**

- Whisper API利用（有料だが高速）
- ローカル/クラウドの選択可能

#### カテゴリF: デバイス対応

**スマホアプリ化**

- iOS/Androidアプリ
- スマホで直接録音→アップロード
- VP-20のような使い方
- 外出先での録音が便利に

**スマホでのオンライン会議録音**

- Zoom/Teamsアプリでの録音対応
- スマホだけで完結

#### カテゴリG: 共有・コラボレーション（将来的な可能性）

**認証機能**

- ユーザー登録・ログイン
- 自分のデータ管理

**共有機能**

- 議事録を友人・同僚と共有
- 閲覧権限管理

**チーム利用**

- 複数人での利用
- コメント機能

---

**MVP使用後の優先順位決定プロセス:**

```
1. MVPを3〜6ヶ月使用
   ↓
2. 実際に困った課題をリストアップ
   ↓
3. 上記の機能候補から解決策を選択
   ↓
4. 実装難易度と効果を比較
   ↓
5. Phase 2の開発計画を策定
```

このアプローチにより、「作ったけど使わない機能」を避け、本当に価値のある機能開発に集中できます。

## 使用する技術スタック

### フレームワーク・言語

**Ruby on Rails 7.2.3**

- Runteqで学習した技術スタックを活用
- 2024年12月時点の最新安定版
- MVPでは標準的なRails構成でシンプルに実装
- 将来的にReact/Next.jsへの移行も検討可能だが、MVP段階では学習コストを抑えるためRailsのみ

**Ruby 3.2.6**

- 2024年時点の安定版で広く使われているバージョン

**Node.js 18.19.1 (LTS)**

- Rails 7.2の推奨バージョン
- JavaScript関連の処理に使用

**Bundler 4.0.0**

- 2024年12月リリースの最新版
- gem管理

### データベース

**PostgreSQL 16.11**

- 2024年時点の最新安定版
- 安定性と拡張性
- 全文検索機能（Phase 2で活用）
- Renderとの相性が良い

### 音声認識エンジン

**OpenAI Whisper（オープンソース版）**

- 完全無料で高精度な日本語音声認識
- ローカル環境で実行可能（プライバシー重視）
- Pythonで実装し、Railsから呼び出す構成
- MITライセンス（商用利用可能）

**選定理由と根拠:**

- 日本語の認識精度: 単語誤り率（WER）4.9〜5.3%、つまり94.7〜95.1%の精度 [3]
- 68万時間の多言語・マルチタスクの教師ありデータで学習 [3]
- オープンソースで完全無料
- 時間制限なし
- GitHubで活発にメンテナンスされている（2022年公開、継続的に更新）

**技術的な実装:**

**Python**

- バージョン: Python 3.8以上（推奨: 3.9〜3.11）
- 選定理由: Whisper公式の要件はPython 3.8以上で、Python 3.8〜3.13で動作確認されています。OpenAIの開発チームはPython 3.9.9とPyTorch 1.10.1で訓練・テストを実施していますが、Python 3.8〜3.11と最新のPyTorchバージョンとの互換性が期待されています。
- 出典: [PyPI openai-whisper](https://pypi.org/project/openai-whisper/) [5] / [GitHub openai/whisper](https://github.com/openai/whisper) [6] - 2025年12月確認

**openai-whisper パッケージ**

- インストール: `pip install openai-whisper`
- 選定理由: Whisperの公式実装で、最も標準的で安定したパッケージです。オープンソース（MITライセンス）で完全無料。
- 出典: [PyPI openai-whisper](https://pypi.org/project/openai-whisper/) [5] - 2025年12月確認

**ffmpeg（エフエフエムペグ）**

- 用途: 音声ファイルの読み取り・形式変換・前処理
- 選定理由: Whisperは音声データの読み取りにffmpegを使用しているため、ffmpegが対応している音声形式であれば処理可能になります。MP3、WAV、M4A、FLACなど、ほぼすべての一般的な音声形式に対応するため必須です。
- インストール: ほとんどのパッケージマネージャーから入手可能
  - Mac: `brew install ffmpeg`
  - Windows: 公式サイトからダウンロードまたは `choco install ffmpeg`
  - Ubuntu: `sudo apt install ffmpeg`
- 出典: [GitHub openai/whisper README](https://github.com/openai/whisper) [6] / [gihyo.jp Whisper記事](https://gihyo.jp/article/2024/12/monthly-python-2412) [17] - 2025年12月確認

**補足: なぜこの構成なのか**

- Python 3.8〜3.11を推奨する理由: Whisperの公式サポート範囲内で、多くの技術ブログで動作確認されている安定したバージョン範囲
- ffmpegが必須な理由: Whisper本体には音声ファイル読み込み機能がなく、ffmpegに依存している。ffmpegなしではWhisperは動作しない
- openai-whisperパッケージを選ぶ理由: 公式実装であり、他の派生実装（faster-whisper等）よりMVP段階では導入が簡単

**処理速度について:**

MVPでは標準的なWhisper（オープンソース版）を使用するため、処理に時間がかかります：

CPU処理の場合、1時間の音声ファイルをlargeモデルで処理すると1.5〜2時間程度かかります。GPU（NVIDIA製）を使用すれば大幅に高速化できますが、MVPではCPU処理を前提とします。

**処理時間の目安（CPU処理、largeモデル）:**

- 30分の音声: 約45分〜1時間
- 1時間の音声: 約1.5〜2時間  
- 3時間の音声: 約4.5〜6時間

**対策:**

- 「寝ている間に処理」「作業中に処理」という使い方を想定
- バックグラウンド処理で、PCの他の作業は可能
- 処理時間がかかる代わりに、完全無料で制限なし

**Phase 2以降での高速化:**

- faster-whisperの導入（最大4倍高速化）
- GPU対応
- クラウドAPI利用（有料だが高速）

### バックグラウンド処理

**Sidekiq + Redis**

- 長時間の音声変換処理を非同期で実行
- 処理状況の確認・管理
- ユーザーが処理完了を待たずに他の操作が可能

### ファイルストレージ

**Active Storage（ローカルストレージ）**

- 音声ファイルとテキストファイルの管理
- MVP段階ではローカル保存
- 将来的にS3への移行も検討

### デプロイ先

**ローカル環境（開発・自分用）**

- 初期段階は自分のPC上で動作
- 完全無料で運用可能
- プライバシー保護

**Render（将来的なクラウド展開時）**

- Herokuの無料プラン終了に伴い、Renderを選択
- PostgreSQL、Redis込みで$7/月程度
- 自動デプロイ・スケーリング対応

### フロントエンド

**Hotwire（Turbo + Stimulus）**

- RailsネイティブなSPA風のUX
- 学習コストが低い
- ファイルアップロードの進捗表示に活用

### 使用予定のライブラリ

**音声処理関連**

- `whisper`（Python）: 音声認識のコアエンジン
  - メンテナンス: OpenAI公式、活発に更新中
  - 最終更新: 2024年（継続的なサポート）
  
- `pydub`（Python）: 音声ファイルの形式変換・前処理
  - メンテナンス: 安定版、広く使われている
  - サポート状況: 良好

**Rails関連**

- `sidekiq` (7.x): バックグラウンドジョブ管理
  - メンテナンス: 非常に活発、Railsの定番gem
  - サポート: 長期サポート

- `redis` (5.x): Sidekiqのキュー管理
  - メンテナンス: 安定版、業界標準
  
- `active_storage`: ファイルアップロード・管理
  - Rails標準、長期サポート保証

**UI/UX関連**

- `hotwire-rails`: Turbo + Stimulus統合
  - Rails公式、継続的にサポート
  
- `tailwindcss-rails`: スタイリング
  - 活発にメンテナンス、モダンなCSS

### 実装イメージ

**1. 音声ファイルアップロード**

```
ユーザー操作: ドラッグ&ドロップ
↓
Active Storageで保存
↓
Sidekiqジョブをキューに追加
↓
バックグラウンドで処理開始
```

**2. 音声→テキスト変換処理**

```
Sidekiqワーカー起動
↓
音声ファイルを一時ディレクトリに展開
↓
PythonのWhisperスクリプトを呼び出し
  - `Open3.capture3`でPythonプロセス実行
  - 標準出力から変換結果を取得
↓
テキストをデータベースに保存
↓
処理完了通知
```

**3. 進捗表示**

```
Turbo Streamsで自動更新
↓
「処理中...」→「完了！」の状態遷移
↓
リロードなしで結果を表示
```

### MVP実装における技術選定の理由

**シンプルさ優先**

- Rails標準機能を最大限活用
- 新しいフレームワーク（React等）は導入せず、学習コストを抑える
- 早期リリース・検証を重視

**拡張性の確保**

- モジュール化された設計
- 音声認識エンジンの切り替え可能な構造
- 将来的なフロントエンド刷新にも対応可能

**コスト最適化**

- オープンソースツールの活用（Whisper）
- ローカル実行でランニングコスト0円
- 必要に応じてクラウド移行

### VP-20の音声ファイル形式

**VP-20対応形式:**

- WAV形式およびMP3形式での録音が一般的
- ICレコーダーの標準的な録音形式

**Whisperの対応形式:**

- ✅ WAV
- ✅ MP3
- ✅ M4A
- ✅ FLAC
- ✅ その他主要な音声形式

**結論:** VP-20で録音した音声ファイルは問題なく使用可能

**注意:** VP-20の具体的な録音形式・設定については、OM SYSTEM公式サイトまたは製品マニュアルをご確認ください。

**出典:**

- [5] PyPI openai-whisper (https://pypi.org/project/openai-whisper/) - 2025年12月確認
- [6] GitHub openai/whisper (https://github.com/openai/whisper) - 2025年12月確認
- [17] gihyo.jp Pythonで音声認識モデルWhisperを使って文字起こし (https://gihyo.jp/article/2024/12/monthly-python-2412) - 2025年12月確認

## 画面遷移図（予定）

```
[トップページ]
    ↓
[ファイルアップロード画面]
    ↓ アップロード
[処理中画面]（進捗表示）
    ↓ 完了
[テキスト表示画面]
    ├→ [ダウンロード]
    ├→ [編集画面]（Phase 2）
    └→ [履歴一覧]
```

## ER図（予定）

```
[transcriptions]
- id
- original_filename (録音ファイル名)
- audio_file (Active Storage参照)
- transcribed_text (変換後テキスト)
- duration_seconds (音声の長さ)
- status (waiting/processing/completed/error)
- error_message (エラー時のメッセージ)
- created_at
- updated_at

MVP段階ではこのテーブル1つで十分
Phase 2以降でユーザー管理テーブル等を追加検討
```

## 開発スケジュール（目安）

**Week 1-2: 環境構築・学習**

- Whisperのセットアップ
- Rails + Python連携の実装検証

**Week 3-4: MVP実装**

- ファイルアップロード機能
- 音声変換機能
- 結果表示・ダウンロード機能

**Week 5: テスト・改善**

- 実際のVP-20音声でテスト
- エラーハンドリング強化

**Week 6: 完成・デプロイ**

- ローカル環境で完成
- ドキュメント整備

---

このREADMEは、実際の開発を進めながら随時更新していきます。